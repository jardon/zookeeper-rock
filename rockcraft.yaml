name: zookeeper
summary: Hello World
description: The most basic example of a ROCK.
version: "3.6.3"
base: ubuntu:20.04
license: Apache-2.0
cmd: [bin/zkServer.sh, --config, /conf, start-foreground]
platforms:
  amd64:  # Make sure this value matches your computer's architecture

env:
  - JAVA_HOME: /usr/lib/jvm/java-8-openjdk-amd64/jre
  - ZOO_LOG_DIR: /

parts:
  zookeeper:
    plugin: nil
    source: https://dlcdn.apache.org/zookeeper/zookeeper-3.6.3/apache-zookeeper-3.6.3-bin.tar.gz
    organize:
      /root/project: /opt/zookeeper
    stage-packages:
    - openjdk-8-jre-headless
    build-environment:
    - JAVA_HOME: /usr/lib/jvm/java-8-openjdk-amd64/
    override-build: |
      cp conf/zoo_sample.cfg conf/zoo.cfg
      cp -r ./* $CRAFT_PART_INSTALL